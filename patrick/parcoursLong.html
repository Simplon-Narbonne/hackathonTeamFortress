<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <title>Parcours Long</title>

    <!-- Sets initial viewport load and disables zooming  -->
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">

    <!-- Makes your prototype chrome-less once bookmarked to your phone's home screen -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link href="https://fonts.googleapis.com/css?family=Raleway:800" rel="stylesheet" type="text/css" >

    <!-- Include the compiled Ratchet CSS -->
    <link rel="stylesheet" href="./css/ratchet.css">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/style2.css">
    <link rel="stylesheet" href="leaflet/leaflet.css" />
    <style>
			#map {
				height: 100%;
			}
		</style>

    <!-- Include the compiled Ratchet JS -->
    <script src="leaflet/leaflet.js"></script>
    <script language="javascript">
			function init() {
				var map = new L.Map('map', {
					center : [43.206454, 2.364104],
          zoomControl: false,
					zoom : 17
				});

        // Disable drag and zoom handlers.
        map.doubleClickZoom.disable();
        map.scrollWheelZoom.disable();
        map.keyboard.disable();

				L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
					attribution : '&copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',
					maxZoom : 17
				}).addTo(map);
				map.attributionControl.setPrefix('');
				// Don't show the 'Powered by Leaflet' text.


				var tracks = [
				new Array(43.206567, 2.365934),
				new Array(43.206858, 2.365577),
				new Array(43.206893, 2.365396),
				new Array(43.206943, 2.365008),
				new Array(43.207159, 2.36507),
				new Array(43.20733, 2.365149),
				new Array(43.20756, 2.36501),
				new Array(43.20753, 2.364684),
				new Array(43.207648, 2.364685),
				new Array(43.207729, 2.364775),
				new Array(43.208057, 2.364694),
				new Array(43.208117, 2.364534),
				new Array(43.208128, 2.364373),
				new Array(43.208088, 2.364153),
				new Array(43.207934, 2.363831),
				new Array(43.207816, 2.363843),
				new Array(43.207478, 2.364141),
				new Array(43.207373, 2.364146),
				new Array(43.207134, 2.364126),
				new Array(43.206819, 2.364084),
				new Array(43.206672, 2.363749),
				new Array(43.206516, 2.363432),
				new Array(43.206437, 2.36286),
				new Array(43.206277, 2.362724),
				new Array(43.206117, 2.362683),
				new Array(43.206062, 2.362684),
				new Array(43.206062, 2.362684),
				new Array(43.205989, 2.362791),
				new Array(43.205733, 2.36281),
				new Array(43.205663, 2.362853),
				new Array(43.205539, 2.362828),
				new Array(43.205482, 2.363007),
				new Array(43.205455, 2.363217),
				new Array(43.205282, 2.363234),
				new Array(43.205078, 2.363255),
				new Array(43.205119, 2.363687),
				new Array(43.205162, 2.364059),
				new Array(43.205234, 2.36422),
				new Array(43.205407, 2.364475),
				new Array(43.205497, 2.364559),
				new Array(43.20559, 2.364589),
				new Array(43.205935, 2.364497),
				new Array(43.206228, 2.364591),
				new Array(43.206469, 2.364657),
				new Array(43.20665, 2.364957),
				new Array(43.206912, 2.365002)
				];

				//Define an array for store checkpoints
				var polylinePoints = new Array();

				//Define an array of Latlng objects (points along the line)
				for (var i = 0; i < tracks.length; i++) {
					polylinePoints[i] = new L.LatLng(tracks[i][0], tracks[i][1]);
				}

				//Define an array of Latlng objects (points along the line)
				var polylineOptions = {
					color : 'blue',
					weight : 6,
					opacity : 0.6
				};

				var polyline = new L.Polyline(polylinePoints, polylineOptions);

				map.addLayer(polyline);

				// zoom the map to the polyline
				map.fitBounds(polyline.getBounds());

				// Add and custom icon for the marker
				var myIcon = L.icon({
					iconUrl : 'img/pas.png',
					iconSize : [40, 50],
				});

				// Add a marker to the map
				var marker = L.marker([43.205400, 2.362688],{icon:myIcon}).addTo(map);

        var myIcon2 = L.icon({
          iconUrl : 'img/flag-vert.png',
          iconSize : [90, 90],
        });

        // Add a marker to the map
        var marker2 = L.marker([43.206867, 2.3663341],{icon:myIcon2}).addTo(map);

        var myIcon3 = L.icon({
          iconUrl : 'img/flag-red.png',
          iconSize : [90, 90],
        });

        // Add a marker to the map
        var marker2 = L.marker([43.207312, 2.365402],{icon:myIcon3}).addTo(map);

				var lat = "43.205663";
				var long = "2.362846";

				// Runner Simulation
				move(marker);
chrono();
			}
		</script>
  </head>
  <body onLoad="javascript:init();">
    <header id="header" class="bar bar-nav fond tac">
      <a  href="index.html" data-transition="fade"><img id="nom" src="./img/nomblanc.png" alt="" /></a>
      <a href="parcours.html"><span class="icon icon icon-bars pull-right "></span></a>
    </header>


<div class="content ">
  <div class="infotourist">
    La basilique a été construite entre le IXe siècle et le XIVe siècle. Elle est un cas assez unique de coexistence du style roman et gothique
  </div>
  <div id="map">
    <div id="chrono">
    </div>
  </div>


  <script src="./js/jquery.js" charset="utf-8"></script>
  <script src="js/move_runner2.js"></script>
  <script src="js/chrono.js"></script>
  <script src="js/checkpoint.js"></script>
  <script src="js/crud.js"></script>

</div><!--end content-->


<script type="text/javascript">

$(document).ready(function() {
  $('.infotourist').hide();
})

//centrage div:
$(document).ready(function() {
// $(window).resize() est appelée chaque fois que la fenêtre est redimensionnée par l'utilisateur.
  $(window).resize(function() {
    $(".middle").css({
      position:'absolute',
      left:($(window).width() - $(".middle").outerWidth()) / 2,
      top:($(window).height() - $(".middle").outerHeight()) / 2
    });
  });
});

$(window).load(function() {
  // au chargement complet de la page, la fonction resize() est appelée une fois pour initialiser le centrage.
  $(window).resize();
});

</script>

  </body>

</html>
